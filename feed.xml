<feed xmlns="http://www.w3.org/2005/Atom"> <id>https://rvyou.github.io/</id><title>rvyou</title><subtitle>hello</subtitle> <updated>2023-05-30T17:51:42+08:00</updated> <author> <name>rvyou</name> <uri>https://rvyou.github.io/</uri> </author><link rel="self" type="application/atom+xml" href="https://rvyou.github.io/feed.xml"/><link rel="alternate" type="text/html" hreflang="zh-CN" href="https://rvyou.github.io/"/> <generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator> <rights> © 2023 rvyou </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>Windows 11 和 WSL2 安装 CUDA cuDNN OpenCV</title><link href="https://rvyou.github.io/posts/CUDA-cuDNN-OpenCV/" rel="alternate" type="text/html" title="Windows 11 和 WSL2 安装 CUDA cuDNN OpenCV" /><published>2023-05-26T17:32:50+08:00</published> <updated>2023-05-26T22:27:52+08:00</updated> <id>https://rvyou.github.io/posts/CUDA-cuDNN-OpenCV/</id> <content src="https://rvyou.github.io/posts/CUDA-cuDNN-OpenCV/" /> <author> <name>rvyou</name> </author> <category term="AI" /> <category term="install" /> <summary> windows 安装 安装 CUDA CUDA Toolkit Archive NVIDIA Developer 我这里下载 cudn 12 ps: c c++ windows Visual Studio 较旧的下载 - 2019、2017、2015 和以前的版本 (microsoft.com) Visual Studio 2022 IDE - 适用于软件开发人员的编程工具 (microsoft.com) 安装 cuDNN cuDNN Archive NVIDIA Developer 环境变量配置 CUDA_PATH = C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1 CUDA_PATH_V12_1 = C:\Program Files\NVIDIA GPU Computing To... </summary> </entry> <entry><title>mongoDB:unable to wirite wire message network</title><link href="https://rvyou.github.io/posts/unable-to-wirite-wire-message-network/" rel="alternate" type="text/html" title="mongoDB:unable to wirite wire message network" /><published>2023-04-27T03:16:00+08:00</published> <updated>2023-05-26T22:22:34+08:00</updated> <id>https://rvyou.github.io/posts/unable-to-wirite-wire-message-network/</id> <content src="https://rvyou.github.io/posts/unable-to-wirite-wire-message-network/" /> <author> <name>rvyou</name> </author> <category term="kubernetes" /> <category term="Istio" /> <category term="Envoy" /> <summary> 起因 最近频繁出现mongoDB 写已经关闭的管道 日志 [ERROR] conection(1715277-12)unable to wirite wire message network: write tcp 10.311139:40938-&amp;gt;17216.4875:27700:write broken pipe ## Deref 和 DerefMut trait 查看 mongoDB 当期连接，多出复数连接数，连接程序未知。连接隔一段时间会被 close 掉。 额外的连接 连接隔一段时间会被 close 掉 通过看客户端配置连接池是没有设置关闭时间的，怎么会被关闭呢，而且源码里面这种连接也没有心跳维持。 问题可能就出在 - 这个程序上了。会不会是 Istio 的呢。直接把 dev 环境的边车去掉后确实没有来。 搜了一下看是不是有相关的问题，果真有…. ... </summary> </entry> <entry><title>ubuntu 22.04 安装 kubernetes 1.26</title><link href="https://rvyou.github.io/posts/install-kubernetes/" rel="alternate" type="text/html" title="ubuntu 22.04 安装 kubernetes 1.26" /><published>2023-02-25T03:12:00+08:00</published> <updated>2023-05-26T21:53:53+08:00</updated> <id>https://rvyou.github.io/posts/install-kubernetes/</id> <content src="https://rvyou.github.io/posts/install-kubernetes/" /> <author> <name>rvyou</name> </author> <category term="kubernetes" /> <category term="install" /> <summary> 初始化 通用 #关闭默认dns服务 sudo systemctl status systemd-resolved sudo systemctl stop systemd-resolved sudo systemctl disable systemd-resolved echo "nameserver 8.8.8.8"|sudo tee /etc/resolv.conf #安装依赖 sudo apt-get update sudo apt-get -y install apt-transport-https ipvsadm ipset sysstat conntrack libseccomp-dev ca-certificates curl gnupg lsb-release nfs-kernel-server hostnamectl set-hostname &amp;lt;主机名... </summary> </entry> <entry><title>k8s pod OOM</title><link href="https://rvyou.github.io/posts/kuburnetes-pod-cache/" rel="alternate" type="text/html" title="k8s pod OOM" /><published>2022-12-14T19:30:52+08:00</published> <updated>2023-05-26T22:27:52+08:00</updated> <id>https://rvyou.github.io/posts/kuburnetes-pod-cache/</id> <content src="https://rvyou.github.io/posts/kuburnetes-pod-cache/" /> <author> <name>rvyou</name> </author> <category term="kubernetes" /> <category term="excessive_memory_usage" /> <category term="golang" /> <summary> 最近线上一个视频服务出现 OOM (4个 pod 其中一个) ,这个服务本身什么有 pprof 。 那时候感觉是 BOS SDK 的问题，也看了一下 SDK 的源码。发现内存有 copy 不判断大小直接 copy 来计算大小和 md5 (看 api 说明只需要知道长度就能上传，copy 只是为了计算长度和 md5。直接修改 SDK 代码，一般情况是知道长度，无法获取长度在用循环读取方式计算)。也给服务挂上 pprof 。 重新部署上线后 发现还是有一个 pod 异常，内存占用很高(第一感觉内存泄漏？)…. 进入容器内部查看实际占用只有 200M 左右( cat /proc/1/status )这就很奇怪，pprof 看起来也很正常。 于是乎感觉是使用内存计算不一样？ google 一下发现确实是这样 cache 使用也被算上了(但是也不应该调整 Linux 策略)。但是还是... </summary> </entry> <entry><title>WSL2 开启 KVM 并创建虚拟机</title><link href="https://rvyou.github.io/posts/wsl2-%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="alternate" type="text/html" title="WSL2 开启 KVM 并创建虚拟机" /><published>2022-04-11T09:42:06+08:00</published> <updated>2023-05-26T21:53:53+08:00</updated> <id>https://rvyou.github.io/posts/wsl2-%E8%99%9A%E6%8B%9F%E6%9C%BA/</id> <content src="https://rvyou.github.io/posts/wsl2-%E8%99%9A%E6%8B%9F%E6%9C%BA/" /> <author> <name>rvyou</name> </author> <category term="WSL2" /> <category term="KVM" /> <summary> WSL2(AMD 上的 Hyper-V 嵌套虚拟化先决条件要求主机操作系统是 Windows 2022 或 Windows 11) 使用过的是 Ubuntu 20.04 LTS 更换内核 安装编译环境 sudo apt update &amp;amp;&amp;amp; sudo apt -y upgrade sudo apt -y install make gcc build-essential libncurses-dev bison flex libssl-dev libelf-dev cpu-checker qemu-kvm aria2 使用微软 WSL2 专用[内核源码](https://github.com/microsoft/WSL2-Linux-Kernel) wget https://github.com/microsoft/WSL2-Linux-Kernel/archi... </summary> </entry> </feed>
